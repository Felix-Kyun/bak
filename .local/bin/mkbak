#!/bin/bash

RED=$(tput setaf 1)
GREEN=$(tput setaf 2)
YELLOW=$(tput setaf 3)
RESET=$(tput sgr0)

sep() { 
	echo -e "────────────────────────────────────────────\n"
}

echo "MAKING BACKUP ..."

echo -e "\n${RED}> CHECKING STATUS OF FILES ...${RESET}"
sep
/usr/bin/git --git-dir=$HOME/.bak/ --work-tree=$HOME status
sep
sleep 2

echo -e "${RED}> ADDING FILES ...${RESET}"
sep
/usr/bin/git --git-dir=$HOME/.bak/ --work-tree=$HOME add -u
sep 

echo -e "${GREEN}> MAKING BACKUP ... ${RESET}"
echo -e "${YELLOW}> COMMIT MESSAGE => 'Daily Backup [$(date +%r) | $(date +'%d %B %Y')]'${RESET}"
/usr/bin/git --git-dir=$HOME/.bak/ --work-tree=$HOME commit -m "Daily Backup [$(date +%r) | $(date +'%d %B %Y')]"

ech -e "${GREEN}PUSHING TO GITHUB ...${RESET}"
sep 
/usr/bin/git --git-dir=$HOME/.bak/ --work-tree=$HOME push -u origin main
sep 

echo -e "${GREEN}> DONE BACKING UP ... ${RESET}"
